# 목표: 프로젝트 다빈치
프로젝트 이름: 다빈치 (Da Vinci)
  흐웨이


Saltware의 Cloud 사업부의 모든 엔지니어들이 AWS 인프라 다이어그램 아키텍처를 쉽고 빠르게
생성/수정/저장/공유 할 수 있는 플랫폼을 목표로 합니다

현재까지 브레인스토밍한 일반적인 사항
Strands Agent을 활용하여 챗봇과 같이 답변을 받음

사전정의 파일 (ECS TaskDefinition과 비슷)을 가지고 유저별 개인의 스타일 및 요구사항 확인
- 기본값은 존재
- 읽어올 수 잇는 AWS 서비스도 제한(API 요청낭비 최소화 및 여러 요점)
사전정의 파일안에는 Style이 존재
- 네트워크간 트래픽 가능 여부를 중점으로
- AWS 서비스간 컴포넌트을 중점으로
- 애플리케이션 기준 Flow을 더 중점으로

고객사별 유저의 CrossAccount AssumeRole 진행
- API로 리소스 조회 (Json)
- 각 리소스간 연관성을 토대로 그룹핑 및 연결성 정보을 만듬
	- 예시1) EC2가 사용하는 보안그룹을 토대로 다른 서비스와 통신을 하지못하면 Flow상 선을 그릴 수 없음

리소스 그래프 JSON 생성 (노드, 엣지, 그룹)
draw.io XML 형식으로 변환하여 다이어그램 생성
결과값을 S3에 저장
만들때 사용한 정보 또한 별도 key:values 저장소에 메타데이터만 저장
redis의 캐쉬
사용자는 다이어그램의 다운로드/재생성/공유/수정이 가능함

## 상세 고민
사용자관점
- 자연어로 질의 하되 특정 AWS ACCOUNT을 지정하여 질의해야함
- 태그기반도 가능하나 일반적인 경우 사전정의파일에서 지정된 AWS 리소스만 해당
- e.g) ec2,rds,vpc ......

리소스조회범위
- 초기에는 단순 몇개만 우선 지원 현재 생각중인것은
- ec2,rds,vpc, ecs, cloudfront, waf, route53, elb, autoscalegroup

연관성 분석의 깊이
- IAM과 같은 role,policy 기반은 추후 지원
- VPC Peering, Transit Gateway 또한 추후 찬찬히 네트워크 관점 스타일로 지원

캐시 사용
- 리소스 조회에 캐시를 사용 주기는 1일
- 수동으로 캐시 초기화 가능

보안 및 권한
- 고객사별 CrossAccount Role은 이미 사전에 전부 존재함으로 고려하지 않아도됨 권한또한 할당되어 있ㅇㅁ
- 앱 자체의 로그인등은 아직 고려하지 않아도됨 (사내 인트라망 고려중)

민감정처리
- 우선 하지 않음

다이어그램 수정 기능
- AI가 자연어를 재처리하여 일부만 수정하도록 우선 생각 중
- 만들어진 다이어그램을 사용자가 직접 드래그앤드롭으로 편집가능한 기능은 하고싶으나 추후 기능으로 미룹 (사유: 난이도가 높음)

공유 기능
- 모든 엔지니어 공유 가능

사용자 플로우 명확화 고민
- 사전 정의 파일(스타일 포함) 작성 -> 챗봇에서 요청(Account number포함) -> 다이어그램 생성 -> 저장/공유

Strands Agent는 어떤 LLM 모델 사용?
- 고민하지 못햇음 같이 고민좀

다이어그램 생성 방식
- AWS Diagram MCP는 원하는 수준의 결과물을 얻기 어려워 배제
- draw.io XML 형식을 직접 생성하는 방식으로 결정
- 이유:
  - 편집 가능한 XML 형식
  - 웹/데스크톱 앱에서 열기 가능
  - 풍부한 AWS 아이콘 라이브러리
  - 추후 사용자 편집 기능 연동 용이

프론트엔드는? (웹? CLI?)
- 우선 웹앱으로 선택