# 문서 작성 시 요령 및 필수 사항

## 기본 원칙

### 요청 기반 작성
- **기술/스택 가이드를 무조건 작성하지 않는다**
- 사용자가 요청할 때만 작성/수정 진행
- 불필요한 문서는 만들지 않음

### 가독성 우선
- 사람이 읽기 좋도록 작성
- 전문 용어 최소화
- 간결하고 명확하게

### 명령어 작성 규칙
- 복잡한 옵션 사용 금지
- 최대한 간결하고 짧게
- 같은 효과를 내는 가장 단순한 방법 선택

## README 작성

### 길이 제한
- **100줄 이내** 엄수
- 핵심만 남기고 나머지 제거
- 상세 내용은 별도 문서로 분리

### 필수 섹션
1. 프로젝트 제목 및 설명 (1-2줄)
2. 주요 기능 (bullet points)
3. Quick Start (설치 및 실행)
4. 기본 사용법 (명령어 중심)
5. 기술 스택 (한 줄)

### 제외할 내용
- 장황한 설명
- 상세한 API 문서 (별도 문서로)
- 문제 해결 가이드 (별도 문서로)
- 아키텍처 다이어그램 (필요시 별도 문서로)

### 예시 (좋은 README)
```markdown
# 프로젝트명

간단한 한 줄 설명

## Features
- 기능 1
- 기능 2

## Quick Start
```bash
docker-compose up
```

## Usage
```bash
curl http://localhost:8000/api
```

## Tech Stack
Python 3.11 • FastAPI • Docker
```

## 명령어 작성

### 나쁜 예 (복잡함)
```bash
docker run -d --name myapp \
  --restart=unless-stopped \
  --health-cmd="curl -f http://localhost:8000/health || exit 1" \
  --health-interval=30s \
  --health-timeout=10s \
  --health-retries=3 \
  -e LOG_LEVEL=DEBUG \
  -e AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID \
  myapp:latest
```

### 좋은 예 (간결함)
```bash
docker run -d -p 8000:8000 \
  -e AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID \
  myapp
```

### 원칙
- 기본값으로 충분한 옵션은 생략
- 필수 옵션만 명시
- 한 줄에 하나의 개념

## 가이드 문서 작성

### 작성 시점
- 사용자가 명시적으로 요청할 때
- 에러 해결이 필요할 때
- 복잡한 설정이 필요할 때

### 구조
```markdown
# 제목

## 문제 상황
간단한 설명

## 해결 방법
```bash
간단한 명령어
```

## 확인
```bash
검증 명령어
```
```

### 예시
```markdown
# Docker 디버깅

## 로그 확인
```bash
docker logs -f container-name
```

## 컨테이너 접속
```bash
docker exec -it container-name bash
```
```

## API 문서

### FastAPI 자동 문서 활용
- `/docs` Swagger UI 사용
- 별도 문서 작성 최소화
- 엔드포인트 설명만 추가

### 엔드포인트 설명
```python
@app.get("/api/resource")
async def get_resource(id: str):
    """
    리소스 조회
    
    - **id**: 리소스 ID
    
    Returns:
        리소스 정보
    """
```

## 에러 메시지

### 원칙
- 무엇이 문제인지 명확히
- 어떻게 해결하는지 제시
- 전문 용어 최소화

### 나쁜 예
```
Error: NoCredentialsError
```

### 좋은 예
```
AWS 자격증명이 없습니다.
해결: docker run 시 -e AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID 추가
```

## 주석 작성

### Python
```python
# 나쁜 예: 코드 그대로 설명
# i를 1씩 증가시킴
i += 1

# 좋은 예: 왜 하는지 설명
# 재시도 횟수 증가
retry_count += 1
```

### 주석이 필요한 경우
- 복잡한 로직
- 비즈니스 규칙
- 임시 해결책 (TODO)
- 성능 최적화 이유

### 주석이 불필요한 경우
- 명확한 코드
- 함수명으로 충분한 경우
- 타입 힌트로 충분한 경우

## 버전 관리

### CHANGELOG
- 사용자가 요청할 때만 작성
- 주요 변경사항만 기록
- 날짜 포함

### 형식
```markdown
# Changelog

## 2024-12-01
- FastAPI 서버 추가
- Docker 지원

## 2024-11-30
- 초기 버전
```

## 금지 사항

### 하지 말아야 할 것
- ❌ 요청 없이 가이드 문서 작성
- ❌ 100줄 넘는 README
- ❌ 복잡한 명령어 옵션
- ❌ 장황한 설명
- ❌ 불필요한 다이어그램
- ❌ 모든 에러 케이스 문서화

### 해야 할 것
- ✅ 요청 시에만 문서 작성
- ✅ 간결하고 명확하게
- ✅ 명령어는 최소한으로
- ✅ 사람이 읽기 좋게
- ✅ 핵심만 전달

## 문서 업데이트

### 시점
- 기능 추가/변경 시
- 사용자 요청 시
- 에러 발견 시

### 방법
- 기존 문서 수정 (새로 만들지 않음)
- 불필요한 내용 삭제
- 간결함 유지

## 예시: 전후 비교

### Before (나쁜 예)
```markdown
# AWS Resource Fetcher

이 프로젝트는 AWS 리소스를 조회하는 시스템입니다...
(200줄의 장황한 설명)

## Installation
여러 방법으로 설치할 수 있습니다...
1. 방법 1: ...
2. 방법 2: ...
(복잡한 설치 과정)

## Configuration
다양한 설정 옵션이 있습니다...
(50줄의 설정 설명)
```

### After (좋은 예)
```markdown
# 프로젝트 다빈치

AWS 인프라 다이어그램 자동 생성 - Phase 1: 리소스 수집

## Quick Start
```bash
docker-compose up
```

## Usage
```bash
curl http://localhost:8000/api/v1/resources?account_id=123&role_name=ReadRole
```

## Tech Stack
Python 3.11 • FastAPI • Docker
```
